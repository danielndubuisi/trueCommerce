import{g as a,p as c,h as i,s,i as r,c as u}from"./utils-DZkesnri.js";class I{constructor(e,o){this.productId=e,this.product={},this.dataSource=o}async init(){this.product=await this.dataSource.findProductById(this.productId),this.renderProductDetails(),document.getElementById("addToCart").addEventListener("click",this.addProductToCart.bind(this))}addProductToCart(){const e=a("so-cart")||[],o=this.product.Id;if(e.length!==0&&c(o,e)){const d=i(o,e);e[d].Quantity++,s("so-cart",e)}else this.product.Quantity=1,e.push(this.product),s("so-cart",e);r(this.product.Name)}renderProductDetails(){l(this.product)}}function l(t){const e=t.SuggestedRetailPrice-t.FinalPrice,o=e>0,d=document.getElementById("discountRibbon");o?(d.textContent=`SAVE $${e.toFixed(2)}!`,d.style.display="block"):d.style.display="none",document.querySelector("h2").textContent=t.Brand.Name,document.querySelector("h3").textContent=t.NameWithoutBrand;const n=document.getElementById("productImage");n.src=u(t),n.alt=t.NameWithoutBrand,document.getElementById("productFinalPrice").textContent=`$${t.FinalPrice}`,document.getElementById("productPrice").textContent=`$${t.SuggestedRetailPrice}`,document.getElementById("productColor").textContent=t.Colors[0].ColorName,document.getElementById("productDesc").innerHTML=t.DescriptionHtmlSimple,document.getElementById("addToCart").dataset.id=t.Id}export{I as default};
