import{g as o,p as r,f as d,s as a,h as l,d as s}from"./utils-DHPMa1J3.js";class h{constructor(t,n){this.productId=t,this.product={},this.dataSource=n}async init(){this.product=await this.dataSource.findProductById(this.productId),this.renderProductDetails(),document.getElementById("addToCart").addEventListener("click",this.addProductToCart.bind(this))}addProductToCart(){const t=o("so-cart")||[],n=this.product.id;if(t.length!==0&&r(n,t)){const i=d(n,t);t[i].quantity++,a("so-cart",t)}else this.product.quantity=1,t.push(this.product),a("so-cart",t);l(this.product.title)}renderProductDetails(){c(this.product)}}function c(e){document.querySelector(".breadcrumb").innerHTML=`<a href='/trueCommerce/product_listing/index.html'>All Products</a> &gt; <span>${s(e==null?void 0:e.category)||"Category"}</span>`,document.getElementById("productName").textContent=e==null?void 0:e.title,document.getElementById("productShortDesc").textContent=s(e==null?void 0:e.description)||"Short product description";const t=document.getElementById("productImage");t.src=e==null?void 0:e.image,t.alt=e==null?void 0:e.title,document.getElementById("productPrice").textContent=`$${e==null?void 0:e.price}`;const n=.25,i=e!=null&&e.price&&n?Math.round((1-n)*(e==null?void 0:e.price)):0;document.getElementById("productFinalPrice").textContent=`$${i}`,document.getElementById("productDiscount").textContent=`-${n*100}%`,document.querySelector(".product-features").innerHTML=`<li>Free returns for 30 days</li>
        <li>Convenient payment methods</li>
        <li>Deliver to home or pick-up point</li>`,document.querySelector(".stars").textContent="★★★★★",document.querySelector(".review-count").textContent=`(${(e==null?void 0:e.rating.count)||0})`,document.getElementById("addToCart").dataset.id=e==null?void 0:e.id}export{h as default};
